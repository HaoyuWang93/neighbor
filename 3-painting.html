
<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>TYO-07/10/2032</title>
<script src="aframe/aframe.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="css/custom.css">
<meta name="viewport" content="width=device-width, initial-scale=1">

<div style='position: fixed;
bottom: 15px;
left: 20px;
width:100%;
text-align: left;
z-index: 1;'>
  <a href="2-elevator.html"><button class="button">PREVIOUS</button></a>
</div>

<div style='position: fixed;
  bottom: 15px;
  left: 120px;
  width:100%;
  text-align: left;
  z-index: 1;'>
    <a href="4-myafter.html"><button class="button">SKIP</button></a>
</div>

<div style='position: fixed;
top: 15px;
left: 20px;
width:100%;
text-align: left;
z-index: 1;'>
  <a href="https://haoyuwang93.github.io/anotherfuture/"><button class="button">HOME</button></a>
</div>
</head>

<body>

<script>
AFRAME.registerComponent("talk0", {
  init: function() {
     var pieces = document.querySelectorAll(".chat, .clickable")
     this.el.addEventListener("click", e => {
       for (let piece of pieces) {
         piece.emit("show0")}
     }, {once: true})
   }
})

AFRAME.registerComponent("proc1", {
  init: function() {
    var pieces = document.querySelectorAll(".chat, .clickable")
     this.el.addEventListener("click", e => {
       for (let piece of pieces) {
         piece.emit("show1")}
     }, {once: true})
   }
})

AFRAME.registerComponent("proc2", {
  init: function() {
    var pieces = document.querySelectorAll(".chat, .clickable")
     this.el.addEventListener("click", e => {
       for (let piece of pieces) {
         piece.emit("show2")}
     }, {once: true})
   }
})

AFRAME.registerComponent("proc3", {
  init: function() {
     var pieces = document.querySelectorAll(".chat, .clickable")
     this.el.addEventListener("click", e => {
       for (let piece of pieces) {
         piece.emit("show3")}
     }, {once: true})
   }
})

  AFRAME.registerComponent("weblink", {
  schema: {
    url: {
      default: ""
    }
  },
  init: function() {
    this.el.addEventListener("click", (e) => {
      window.location = this.data.url;
    })
  }
})
</script>

<a-scene raycaster="objects: .clickable" cursor="rayOrigin: mouse; fuse:false"
loading-screen="dotsColor: white; backgroundColor: black">
<a-camera wasd-controls-enabled="false"></a-camera>

<a-assets>
<img id="12f" src="images/direction/12f.png">
<img id="talk" src="images/screen/talk.png">
<img id="proceed" src="images/screen/proceed.png" alt="">
<img id="painting" src="images/painting.jpg">
</a-assets>

  <a-sky id="skyid" src="#painting" rotation="0 0 0"></a-sky>

  <a-image id="talkbutton" class="clickable"
   src= "#talk" width="0.24" height="0.12" rotation="0 180 0" position="0.6 1.45 1"
   animation__flash="property: opacity; from: 1; to: 0; dur: 600; dir: alternate; loop: true"
   animation__off0="startEvents: show0; property: scale; to: 0 0 0; dur: 100"
   talk0>
   </a-image>

  <a-text class="chat"
    value="hey~ I haven't seen you for a while!
    thought your were to abondan your masterpiece,
    I was about to sell it yesterday."
    color="#0080BF" line-height=55 align=right
    width="1.1" rotation="0 180 0" position="-0.95 1.75 1"
    animation__hide1="startEvents: show1; property: visible; to: false">
  </a-text>

  <a-text class="chat" opacity="0"
    value="haha I would highly appreciate if it sells"
    color="black" line-height=55 align=left
    width="1.1" rotation="0 180 0" position="0.7 1.6 1"
    animation__show0="startEvents: show0; property: opacity; to: 1; dur: 500"
    animation__hide1="startEvents: show1; property: visible; to: false">
  </a-text>

  <a-text class="chat" opacity="0"
    value="I still keep your last piece over there to show off;
    You must really LOVE pencil buildings"
    color="#0080BF" line-height=55 align=right
    width="1.1" rotation="0 180 0" position="-0.95 1.45 1"
    animation__show0="startEvents: show0; property: opacity; to: 1; dur: 500; delay: 1500"
    animation__hide1="startEvents: show1; property: visible; to: false">
  </a-text>

  <a-image class="clickable" id="rep1" scale="0 0 0"
   src= "#proceed" width="0.24" height="0.12" rotation="0 180 0" position="0.6 1.35 1"
   animation__on0="startEvents: show0; property: scale; to: 1 1 1; dur: 100; delay: 2500"
   animation__flash="property: opacity; from: 1; to: 0; dur: 600; dir: alternate; loop: true"
   animation__off1="startEvents: show1; property: scale; to: 0 0 0; dur: 100"
   proc1>
  </a-image>

  <a-text class="chat" opacity="0"
    value="Not exactly for those quarantine machines
    subsidized by Tokyo Health. My drawings are
    more about how we broke the lockdowns,"
    color="black" line-height=55 align=left
    width="1.1" rotation="0 180 0" position="0.7 1.85 1"
    animation__show1="startEvents: show1; property: opacity; to: 1; dur: 500"
    animation__hide2="startEvents: show2; property: visible; to: false">
  </a-text>

  <a-text class="chat" opacity="0"
    value="I think we really managed to defeat what these
    pencil buildings are made for...My only wish is to
    one day go face to face like in my drawing..."
    color="black" line-height=55 align=left
    width="1.1" rotation="0 180 0" position="0.7 1.6 1"
    animation__show1="startEvents: show1; property: opacity; to: 1; dur: 500; delay: 4000"
    animation__hide2="startEvents: show2; property: visible; to: false">
  </a-text>

  <a-text class="chat" opacity="0"
    value="Nah, I'd rather keep behind dividers like now;
    stairwell encounters by accident are scary enough;
    you know its not like in SimCity or something..."
    color="#0080BF" line-height=55 align=right
    width="1.1" rotation="0 180 0" position="-0.95 1.35 1"
    animation__show1="startEvents: show1; property: opacity; to: 1; dur: 500; delay: 8000"
    animation__hide2="startEvents: show2; property: visible; to: false">
  </a-text>

  <a-image class="clickable" id="rep2" scale="0 0 0"
   src= "#proceed" width="0.24" height="0.12" rotation="0 180 0" position="0.6 1.3 1"
   animation__on1="startEvents: show1; property: scale; to: 1 1 1; dur: 100; delay: 9000"
   animation__flash="property: opacity; from: 1; to: 0; dur: 600; dir: alternate; loop: true"
   animation__off2="startEvents: show2; property: scale; to: 0 0 0; dur: 100"
   proc2>
  </a-image>

  <a-text class="chat" opacity="0"
    value="Maybe its because I went to school before COVID?
    I even thought of using transparent dividers when
    my model shop is ready to share...

    btw, whose work is that? the lonely cat one"
    color="black" line-height=55 align=left
    width="1.1" rotation="0 180 0" position="0.7 1.7 1"
    animation__show2="startEvents: show2; property: opacity; to: 1; dur: 500"
    animation__hide3="startEvents: show3; property: visible; to: false">
  </a-text>

  <a-text class="chat" opacity="0"
    value="Your ghost upstairs from yesterday"
    color="#0080BF" line-height=55 align=right
    width="1.1" rotation="0 180 0" position="-0.95 1.4 1"
    animation__show2="startEvents: show2; property: opacity; to: 1; dur: 500; delay: 5000"
    animation__hide3="startEvents: show3; property: visible; to: false">
  </a-text>

  <a-image class="clickable" id="rep3" scale="0 0 0"
   src= "#proceed" width="0.24" height="0.12" rotation="0 180 0" position="0.6 1.35 1"
   animation__on2="startEvents: show2; property: scale; to: 1 1 1; dur: 100; delay: 6000"
   animation__flash="property: opacity; from: 1; to: 0; dur: 600; dir: alternate; loop: true"
   animation__off3="startEvents: show3; property: scale; to: 0 0 0; dur: 100"
   proc3>
  </a-image>

  <a-text class="chat" opacity="0"
    value="No way! So he actually exists? Not just
    a Tokyo Health bot spying our group?
    ...sorry but is that a he or she?"
    color="black" line-height=55 align=left
    width="1.1" rotation="0 180 0" position="0.7 1.65 1"
    animation__show3="startEvents: show3; property: opacity; to: 1; dur: 500">
  </a-text>

  <a-text class="chat" opacity="0"
    value="haha just kidding, I was on @3F's cafe for cake
    so I didn't really know,"
    color="#0080BF" line-height=55 align=right
    width="1.1" rotation="0 180 0" position="-0.95 1.45 1"
    animation__show3="startEvents: show3; property: opacity; to: 1; dur: 500; delay: 5000">
  </a-text>

  <a-text class="chat" opacity="0"
    value="If its Tokyo Health, they must be pissed
    watching us visit each other everyday but not
    violating any rule"
    color="#0080BF" line-height=55 align=right
    width="1.1" rotation="0 180 0" position="-0.95 1.25 1"
    animation__show3="startEvents: show3; property: opacity; to: 1; dur: 500; delay: 8000">
  </a-text>

  <a-text class="chat" opacity="0"
    value="- -"
    color="black" line-height=55 align=center
    width="5" rotation="0 180 0" position="0 1 1"
    animation__show3="startEvents: show3; property: opacity; to: 1; dur: 500; delay: 9000">
  </a-text>

   <a-image id="out" class="clickable" scale="0 0 0" opacity=0.8
      src= "#12f" width="0.5" height="0.5" rotation="0 -90 0" position="2 1.2 0.2"
      animation__on3="startEvents: show3; property: scale; to: 1 1 1; dur: 100; delay: 9000"
      animation__flash="property: opacity; from: 1; to: 0; dur: 600; dir: alternate; loop: true"
      weblink="url: 4-myafter.html">
    </a-image>

</a-scene>

</body>
</html
