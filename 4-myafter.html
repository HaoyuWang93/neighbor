
<!doctype html>
<html>
<head>
  <title>TYO-07/11/2032</title>
<script src="aframe/aframe.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="css/custom.css">
<meta name="viewport" content="width=device-width, initial-scale=1">

<div style='position: fixed;
bottom: 15px;
left: 20px;
width:100%;
text-align: left;
z-index: 1;'>
  <a href="3-painting.html"><button class="button">PREVIOUS</button></a>
</div>

<div style='position: fixed;
  bottom: 15px;
  left: 120px;
  width:100%;
  text-align: left;
  z-index: 1;'>
    <a href="5-kitchen.html"><button class="button">SKIP</button></a>
</div>

<div style='position: fixed;
top: 15px;
left: 20px;
width:100%;
text-align: left;
z-index: 1;'>
  <a href="https://haoyuwang93.github.io/anotherfuture/"><button class="button">HOME</button></a>
</div>

</head>

<body>
  <div id="preload">
    <p id="intro">
        07/11/2032<br>
        12F HOME<br>
        Finally finished my model shop!
    </p>
  </div>

  <script>
  window.addEventListener("load", function(){
      setInterval(pippo, 2000);
  });
  function pippo(){
      var load_screen = document.getElementById("preload");
      document.body.removeChild(load_screen);
  }

  AFRAME.registerComponent("hide", {
    init: function() {
      this.el.addEventListener("click", (e) => {
        let hide = document.querySelector("#abutton")
        hide.setAttribute("visible", false)
      }, {once: true})
    }
  })
  AFRAME.registerComponent("timeout", {
    init: function() {
      this.el.addEventListener("click", (e) => {
          let timeout = document.querySelector("#phone")
          timeout.setAttribute("src", "#ph1-1");
        setTimeout(() => {
          let timeout = document.querySelector("#phone")
          timeout.setAttribute("src", "#ph1-2")
    }, 1500);
        setTimeout(() => {
          let timeout = document.querySelector("#phone")
          timeout.setAttribute("src", "#ph1-3")
    }, 3500);
        setTimeout(() => {
          let timeout = document.querySelector("#phone")
          timeout.setAttribute("src", "#ph1-4")
    }, 6000);
        setTimeout(() => {
          let timeout = document.querySelector("#phone")
      timeout.setAttribute("src", "#ph1-5")
    }, 7000);
        setTimeout(() => {
          let timeout = document.querySelector("#phone")
      timeout.setAttribute("src", "#ph1-6")
    }, 9000);
      setTimeout(() => {
        let timeout = document.querySelector("#phone")
        timeout.setAttribute("src", "#ph1-7")
    }, 11500);
      setTimeout(() => {
        let timeout = document.querySelector("#phone")
        timeout.setAttribute("src", "#ph1-8")
    }, 13500);
      setTimeout(() => {
        let timeout = document.querySelector("#bed")
        timeout.setAttribute("visible")
    }, 14000);
      setTimeout(() => {
        let timeout = document.querySelector("#go")
        timeout.setAttribute("visible")
    }, 14000);
      }, {once: true})
    }
  })


  AFRAME.registerComponent("weblink", {
  schema: {
    url: {
      default: ""
    }
  },
  init: function() {
    this.el.addEventListener("click", (e) => {
      window.location = this.data.url;
    })
  }
})
</script>

  <a-assets>
  <img id="myafter" src="images/myafter.jpg">
  <img id="sleep" src="images/direction/sleep.png">
  <img id="announce" src="images/screen/announce.png">
  <img id="ph1-0" src="images/screen/ph1-0.png">
  <img id="ph1-1" src="images/screen/ph1-1.png">
  <img id="ph1-2" src="images/screen/ph1-2.png">
  <img id="ph1-3" src="images/screen/ph1-3.png">
  <img id="ph1-4" src="images/screen/ph1-4.png">
  <img id="ph1-5" src="images/screen/ph1-5.png">
  <img id="ph1-6" src="images/screen/ph1-6.png">
  <img id="ph1-7" src="images/screen/ph1-7.png">
  <img id="ph1-8" src="images/screen/ph1-8.png">
</a-assets>

<a-scene cursor="rayOrigin: mouse" vr-mode-ui="arEnabled:false" loading-screen="dotsColor: white; backgroundColor: black">
  <a-sky id="skyid" src="#myafter" rotation="0 -90 0"></a-sky>

  <a-image id="phone"
  src= "#ph1-0" height="2" width="1.2"
  position="-1.5 1.2 -1.5"
  rotation="0 45 0">
  </a-image>

  <a-image id="abutton"
    src= "#announce"
    height="0.8" width="0.8"
    position="-1.49 0.8 -1.49"
    rotation="0 45 0"
    hide
    timeout></a-image>

 <a-image id="bed"
    visible="false"
    src= "#sleep"
    width="0.3" height="0.3"
    position="-1.5 1.5 0.05"
    rotation="0 90 0"
    weblink="url: 5-kitchen.html">
</a-image>

  <a-text id="go"
    visible="false"
    value="Pull down your bed
    and good night"
    line-height=55
    align=center
    width="1.1"
    position="-1.5 1.75 0.05"
    rotation="0 90 0">
  </a-text>

</a-scene>

</body>
</html
